//Miller-Rabin_primality_test

import math.sqrt
import util.rnd

def isProbablyPrime( n, k ) =
	n_1 = n - 1
	d = n_1
	s = 0
	
	while 2|d
		s++
		d /= 2

	for _ <- 1..k
		a = rnd( 2, n )
		x = a^d%n

		if x == 1 or x == n - 1 then continue

		for _ <- 1..s - 1
			x = x^2%n
			
			if x == 1 then return (1, false)

			if x == n_1 then continue

		return (a, false)

	true

n = 1013

for i <- 2..int(sqrt(n))
	if i|n
		println( i, n/i )
		break
else
	println( 'prime' )

println( isProbablyPrime( n, 20 ) )